<mat-toolbar class="header-toolbar">
  <!-- Left: Logo -->
  <div class="header-logo" routerLink="/dashboard" style="cursor: pointer;">
    <img src="/PJV.png" alt="Logo" />
  </div>

  <!-- Right: Actions -->
  <div class="header-icons d-flex align-items-center">
    <!-- Logged-in State -->
    @if (isLoggedIn()) {
      <button
        mat-icon-button
        [matTooltip]="userName()"
        (click)="goToProfile()"
        class="me-2 avatar-button"
        aria-label="User profile"
      >
        <img
          *ngIf="userAvatar(); else defaultIcon"
          [src]="userAvatar()"
          (error)="onAvatarError()"
          alt="User Avatar"
          class="user-avatar"
        />
        <ng-template #defaultIcon>
          <mat-icon>account_circle</mat-icon>
        </ng-template>
      </button>

      <button mat-stroked-button color="warn" (click)="logout()">
        <mat-icon>logout</mat-icon>
        Logout
      </button>
    }
    @else {
      <button
        mat-stroked-button
        color="accent"
        class="me-2"
        routerLink="/login"
      >
        Login
      </button>
      <button mat-flat-button color="accent" routerLink="/register">
        Register
      </button>
    }

    <!-- Cart Icon -->
    <button mat-icon-button aria-label="Cart" (click)="goToCart()">
      <mat-icon>shopping_cart</mat-icon>
      <span
        *ngIf="cartItemCount() > 0"
        class="cart-badge"
        >{{ cartItemCount() }}</span
      >
    </button>
  </div>
</mat-toolbar>
